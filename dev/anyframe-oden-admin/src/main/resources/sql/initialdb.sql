CREATE TEXT TABLE GROUPS(GROUP_ID VARCHAR(20) NOT NULL,GROUP_NAME VARCHAR(50) NOT NULL,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_GROUPS PRIMARY KEY(GROUP_ID));
SET TABLE GROUPS SOURCE "odendb/GROUPS;encoding=UTF-8";
CREATE TEXT TABLE USERS(USER_ID VARCHAR(20) NOT NULL,USER_NAME VARCHAR(50) NOT NULL,PASSWORD VARCHAR(50) NOT NULL,ENABLED CHAR(1),CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_USERS PRIMARY KEY(USER_ID));
SET TABLE USERS SOURCE "odendb/USERS;encoding=UTF-8";
CREATE TEXT TABLE GROUPS_USERS(GROUP_ID VARCHAR(20) NOT NULL,USER_ID VARCHAR(20) NOT NULL,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_GROUPS_USERS PRIMARY KEY(GROUP_ID,USER_ID),CONSTRAINT FK_GROUPS_USERS_GROUP_ID FOREIGN KEY(GROUP_ID) REFERENCES GROUPS(GROUP_ID),CONSTRAINT FK_GROUPS_USERS_USER_ID FOREIGN KEY(USER_ID) REFERENCES USERS(USER_ID));
SET TABLE GROUPS_USERS SOURCE "odendb/GROUPS_USERS;encoding=UTF-8";
CREATE TEXT TABLE ROLES(ROLE_ID VARCHAR(50) NOT NULL,ROLE_NAME VARCHAR(50),DESCRIPTION VARCHAR(100),CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_ROLES PRIMARY KEY(ROLE_ID));
SET TABLE ROLES SOURCE "odendb/ROLES;encoding=UTF-8";
CREATE TEXT TABLE ROLES_HIERARCHY(PARENT_ROLE VARCHAR(50) NOT NULL,CHILD_ROLE VARCHAR(50) NOT NULL,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_ROLES_HIERARCHY PRIMARY KEY(PARENT_ROLE,CHILD_ROLE),CONSTRAINT FK_ROLES1 FOREIGN KEY(PARENT_ROLE) REFERENCES ROLES(ROLE_ID),CONSTRAINT FK_ROLES2 FOREIGN KEY(CHILD_ROLE) REFERENCES ROLES(ROLE_ID));
SET TABLE ROLES_HIERARCHY SOURCE "odendb/ROLES_HIERARCHY;encoding=UTF-8";
CREATE TEXT TABLE SECURED_RESOURCES(RESOURCE_ID VARCHAR(10) NOT NULL,SYSTEM_NAME VARCHAR(15),RESOURCE_NAME VARCHAR(50),RESOURCE_PATTERN VARCHAR(300) NOT NULL,DESCRIPTION VARCHAR(100),RESOURCE_TYPE VARCHAR(10) NOT NULL,SORT_ORDER NUMERIC,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_RECURED_RESOURCES PRIMARY KEY(RESOURCE_ID));
SET TABLE SECURED_RESOURCES SOURCE "odendb/SECURED_RESOURCES;encoding=UTF-8";
CREATE TEXT TABLE SECURED_RESOURCES_ROLES(RESOURCE_ID VARCHAR(10) NOT NULL,ROLE_ID VARCHAR(50) NOT NULL,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_SECURED_RESOURCES_ROLES PRIMARY KEY(RESOURCE_ID,ROLE_ID),CONSTRAINT FK_SECURED_RESOURCES FOREIGN KEY(RESOURCE_ID) REFERENCES SECURED_RESOURCES(RESOURCE_ID),CONSTRAINT FK_ROLES4 FOREIGN KEY(ROLE_ID) REFERENCES ROLES(ROLE_ID));
SET TABLE SECURED_RESOURCES_ROLES SOURCE "odendb/SECURED_RESOURCES_ROLES;encoding=UTF-8";
CREATE TEXT TABLE AUTHORITIES(ROLE_ID VARCHAR(50) NOT NULL,SUBJECT_ID VARCHAR(20) NOT NULL,TYPE VARCHAR(2) NOT NULL,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_AUTHORITIES PRIMARY KEY(ROLE_ID,SUBJECT_ID),CONSTRAINT FK_ROLES3 FOREIGN KEY(ROLE_ID) REFERENCES ROLES(ROLE_ID));
SET TABLE AUTHORITIES SOURCE "odendb/AUTHORITIES;encoding=UTF-8";
CREATE TEXT TABLE RESTRICTED_TIMES(TIME_ID VARCHAR(10) NOT NULL,SYSTEM_NAME VARCHAR(15),TIME_TYPE VARCHAR(10) NOT NULL,START_DATE VARCHAR(8),START_TIME VARCHAR(6) NOT NULL,END_DATE VARCHAR(8),END_TIME VARCHAR(6) NOT NULL,DESCRIPTION VARCHAR(100),CONSTRAINT PK_RESTRICTED_TIMES PRIMARY KEY(TIME_ID));
SET TABLE RESTRICTED_TIMES SOURCE "odendb/RESTRICTED_TIMES;encoding=UTF-8";
CREATE TEXT TABLE RESTRICTED_TIMES_RESOURCES(TIME_ID VARCHAR(10) NOT NULL,RESOURCE_ID VARCHAR(10) NOT NULL,CONSTRAINT PK_RESTRICTED_TIMES_RESOURCES PRIMARY KEY(TIME_ID,RESOURCE_ID),CONSTRAINT FK_TIMES_RESOURCES_TIME_ID FOREIGN KEY(TIME_ID) REFERENCES RESTRICTED_TIMES(TIME_ID),CONSTRAINT FK_TIMES_RESOURCES_RESOURCE_ID FOREIGN KEY(RESOURCE_ID) REFERENCES SECURED_RESOURCES(RESOURCE_ID));
SET TABLE RESTRICTED_TIMES_RESOURCES SOURCE "odendb/RESTRICTED_TIMES_RESOURCES;encoding=UTF-8";
CREATE TEXT TABLE TIMES_RESOURCES_EXCLUSION(TIME_ID VARCHAR(10) NOT NULL,RESOURCE_ID VARCHAR(10) NOT NULL,ROLE_ID VARCHAR(50) NOT NULL,CONSTRAINT PK_EXCLUSION PRIMARY KEY(TIME_ID,RESOURCE_ID,ROLE_ID),CONSTRAINT FK_EXCLUSION_TIME_ID FOREIGN KEY(TIME_ID) REFERENCES RESTRICTED_TIMES(TIME_ID),CONSTRAINT FK_EXCLUSION_RESOURCE_ID FOREIGN KEY(RESOURCE_ID) REFERENCES SECURED_RESOURCES(RESOURCE_ID),CONSTRAINT FK_EXCLUSION_ROLE_ID FOREIGN KEY(ROLE_ID) REFERENCES ROLES(ROLE_ID));
SET TABLE TIMES_RESOURCES_EXCLUSION SOURCE "odendb/TIMES_RESOURCES_EXCLUSION;encoding=UTF-8";
CREATE TEXT TABLE RESTRICTED_TIMES_ROLES(TIME_ID VARCHAR(10) NOT NULL,ROLE_ID VARCHAR(50) NOT NULL,CONSTRAINT PK_RESTRICTED_TIMES_ROLES PRIMARY KEY(TIME_ID,ROLE_ID),CONSTRAINT FK_TIMES_ROLES_TIME_ID FOREIGN KEY(TIME_ID) REFERENCES RESTRICTED_TIMES(TIME_ID),CONSTRAINT FK_TIMES_ROLES_ROLE_ID FOREIGN KEY(ROLE_ID) REFERENCES ROLES(ROLE_ID));
SET TABLE RESTRICTED_TIMES_ROLES SOURCE "odendb/RESTRICTED_TIMES_ROLES;encoding=UTF-8";
CREATE TEXT TABLE VIEW_RESOURCES(VIEW_RESOURCE_ID VARCHAR(50) NOT NULL,SYSTEM_NAME VARCHAR(15),CATEGORY VARCHAR(255),VIEW_NAME VARCHAR(50) NOT NULL,DESCRIPTION VARCHAR(255) NOT NULL,VIEW_INFO VARCHAR(255),VIEW_TYPE VARCHAR(10) NOT NULL,VISIBLE VARCHAR(1) NOT NULL,CONSTRAINT PK_VIEW_RESOURCES PRIMARY KEY(VIEW_RESOURCE_ID));
SET TABLE VIEW_RESOURCES SOURCE "odendb/VIEW_RESOURCES;encoding=UTF-8";
CREATE TEXT TABLE VIEW_RESOURCES_MAPPING(VIEW_RESOURCE_ID VARCHAR(50) NOT NULL,REF_ID VARCHAR(50) NOT NULL,MASK INTEGER NOT NULL,PERMISSIONS VARCHAR(255) NOT NULL,REF_TYPE VARCHAR(10) NOT NULL,CONSTRAINT PK_VIEW_RESOURCES_MAPPING PRIMARY KEY(VIEW_RESOURCE_ID,REF_ID),CONSTRAINT FK_MAPPING_VIEW_RESOURCE_ID FOREIGN KEY(VIEW_RESOURCE_ID) REFERENCES VIEW_RESOURCES(VIEW_RESOURCE_ID));
SET TABLE VIEW_RESOURCES_MAPPING SOURCE "odendb/VIEW_RESOURCES_MAPPING;encoding=UTF-8";
CREATE TEXT TABLE VIEW_HIERARCHY(PARENT_VIEW VARCHAR(50) NOT NULL,CHILD_VIEW VARCHAR(50) NOT NULL,CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_VIEW_HIERARCHY PRIMARY KEY(PARENT_VIEW,CHILD_VIEW),CONSTRAINT FK_VIEW1 FOREIGN KEY(PARENT_VIEW) REFERENCES VIEW_RESOURCES(VIEW_RESOURCE_ID),CONSTRAINT FK_VIEW2 FOREIGN KEY(CHILD_VIEW) REFERENCES VIEW_RESOURCES(VIEW_RESOURCE_ID));
SET TABLE VIEW_HIERARCHY SOURCE "odendb/VIEW_HIERARCHY;encoding=UTF-8";
CREATE TEXT TABLE CANDIDATE_SECURED_RESOURCES(CANDIDATE_RESOURCE_ID VARCHAR(20) NOT NULL,SYSTEM_NAME VARCHAR(15),BEANID VARCHAR(128),PACKAGES VARCHAR(128) NOT NULL,CLASSES VARCHAR(128),METHOD VARCHAR(128),PARAMETER VARCHAR(128),REQUESTMAPPING VARCHAR(128),POINTCUT VARCHAR(128),CANDIDATE_RESOURCE_TYPE VARCHAR(10) NOT NULL,CONSTRAINT CANDIDATE_SECURED_RESOURCES_PK PRIMARY KEY(CANDIDATE_RESOURCE_ID));
SET TABLE CANDIDATE_SECURED_RESOURCES SOURCE "odendb/CANDIDATE_SECURED_RESOURCES;encoding=UTF-8";
CREATE TEXT TABLE SECURITY_USERS(USER_ID VARCHAR(20) NOT NULL,USER_NAME VARCHAR(50) NOT NULL,PASSWORD VARCHAR(32) NOT NULL,ENABLED INTEGER,AGE NUMERIC(3),CELL_PHONE VARCHAR(14),ADDR VARCHAR(100),EMAIL VARCHAR(50),CREATE_DATE VARCHAR(8),MODIFY_DATE VARCHAR(8),CONSTRAINT PK_SECURITY_USERS PRIMARY KEY(USER_ID));
SET TABLE SECURITY_USERS SOURCE "odendb/SECURITY_USERS;encoding=UTF-8";
INSERT INTO GROUPS VALUES('GRP-0001','Admin','20090701','20091209');
INSERT INTO GROUPS VALUES('GRP-0002','Deployer','20090701','20091209');
INSERT INTO USERS VALUES('oden','Oden Admin','oden0','Y','20091102','');
INSERT INTO GROUPS_USERS VALUES('GRP-0001','oden','20091102',NULL);
INSERT INTO ROLES VALUES('IS_AUTHENTICATED_ANONYMOUSLY','IS_AUTHENTICATED_ANONYMOUSLY','ANONYMOUSLY Role','20091103',NULL);
INSERT INTO ROLES VALUES('ROLE_ADMIN','ROLE_ADMIN','ADMIN Role','20091103',NULL);
INSERT INTO SECURED_RESOURCES VALUES('PNC_000001','SAMPLE','List','execution(* anyframe.iam.sample..*Service.*List(..))','','pointcut',1,'20100107',NULL);
INSERT INTO SECURED_RESOURCES VALUES('WEB-000001','SAMPLE','Login','\A/index\.jsp?.*flag=L.*\Z','','url',1,'20100107',NULL);
INSERT INTO SECURED_RESOURCES VALUES('WEB-000002','SAMPLE','Login','\A/.*\.do?.*\Z','','url',2,'20100107',NULL);
INSERT INTO SECURED_RESOURCES_ROLES VALUES('PNC_000001','ROLE_ADMIN','20100107',NULL);
INSERT INTO SECURED_RESOURCES_ROLES VALUES('WEB-000001','ROLE_ADMIN','20100107',NULL);
INSERT INTO SECURED_RESOURCES_ROLES VALUES('WEB-000002','ROLE_ADMIN','20100107',NULL);
INSERT INTO AUTHORITIES VALUES('IS_AUTHENTICATED_ANONYMOUSLY','outsider','U','20091103',NULL);
INSERT INTO AUTHORITIES VALUES('ROLE_ADMIN','oden','U','20091103',NULL);
INSERT INTO VIEW_RESOURCES VALUES('addUser','SAMPLE','User Add','addUser','Category mng.','','menu','Y');
INSERT INTO VIEW_RESOURCES_MAPPING VALUES('addUser','ROLE_ADMIN',4,'CREATE','ROLE');